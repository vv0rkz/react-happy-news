#!/usr/bin/env sh

CURRENT_BRANCH=$(git branch --show-current)
if [ "$CURRENT_BRANCH" = "main" ]; then
    echo "‚úÖ –†–∞–∑—Ä–µ—à—ë–Ω–Ω–∞—è –≤–µ—Ç–∫–∞: $CURRENT_BRANCH"
    exit 0
fi

# –ü—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å v –∏ –µ—Å—Ç—å –¥–µ—Ñ–∏—Å
if ! echo "$CURRENT_BRANCH" | grep -q "^v.*-.*"; then
    echo "‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –≤–µ—Ç–∫–∏: $CURRENT_BRANCH"
    echo "‚úÖ –î–æ–ª–∂–µ–Ω –±—ã—Ç—å: vX.Y.Z-description"
    echo "üìù –ü—Ä–∏–º–µ—Ä: v2.3.0-normalize-operators"
    exit 1
fi

echo "‚úÖ –§–æ—Ä–º–∞—Ç –≤–µ—Ç–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π: $CURRENT_BRANCH"